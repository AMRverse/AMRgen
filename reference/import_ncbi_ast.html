<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Import and process AST data from an NCBI file — import_ncbi_ast • AMRgen</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Import and process AST data from an NCBI file — import_ncbi_ast"><meta name="description" content="This function imports an antibiotic susceptibility testing (AST) dataset, processes
the data, and optionally interprets the results based on MIC or disk diffusion data.
It assumes that the input file is a delimited text file (e.g., CSV, TSV) and
parses relevant columns (antibiotic names, species names, MIC or disk data) into
suitable classes using the AMR package. It also uses the AMR package to determine
susceptibility phenotype (SIR) based on EUCAST or CLSI guidelines"><meta property="og:description" content="This function imports an antibiotic susceptibility testing (AST) dataset, processes
the data, and optionally interprets the results based on MIC or disk diffusion data.
It assumes that the input file is a delimited text file (e.g., CSV, TSV) and
parses relevant columns (antibiotic names, species names, MIC or disk data) into
suitable classes using the AMR package. It also uses the AMR package to determine
susceptibility phenotype (SIR) based on EUCAST or CLSI guidelines"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">AMRgen</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/AMRgen.html">Get Started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/AMRgen.html">Introduction</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/interpretAMR/AMRgen"><span class="fa fab fa-github"></span> Source Code</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Import and process AST data from an NCBI file</h1>
      <small class="dont-index">Source: <a href="https://github.com/interpretAMR/AMRgen/blob/main/R/import_pheno.R" class="external-link"><code>R/import_pheno.R</code></a></small>
      <div class="d-none name"><code>import_ncbi_ast.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function imports an antibiotic susceptibility testing (AST) dataset, processes
the data, and optionally interprets the results based on MIC or disk diffusion data.
It assumes that the input file is a delimited text file (e.g., CSV, TSV) and
parses relevant columns (antibiotic names, species names, MIC or disk data) into
suitable classes using the AMR package. It also uses the AMR package to determine
susceptibility phenotype (SIR) based on EUCAST or CLSI guidelines</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">import_ncbi_ast</span><span class="op">(</span><span class="va">file</span>, interpret <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-file">file<a class="anchor" aria-label="anchor" href="#arg-file"></a></dt>
<dd><p>A string representing the path to the delimited file containing the AST data
in NCBI antibiogram format. These files can be downloaded from the NCBI AST browser,
e.g. https://www.ncbi.nlm.nih.gov/pathogens/ast#Pseudomonas%20aeruginosa</p></dd>


<dt id="arg-interpret">interpret<a class="anchor" aria-label="anchor" href="#arg-interpret"></a></dt>
<dd><p>A logical value (default is TRUE). If <code>TRUE</code>, the function will interpret
the susceptibility phenotype (SIR) for each row based on the MIC or disk diffusion
values, and either EUCAST or CLSI testing standard (as indicated in the <code>Testing standard</code>
column of the input file, if blank EUCAST will be used by default). If <code>FALSE</code>, no
interpretation is performed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame with the processed AST data, including additional columns:</p><ul><li><p><code>biosample</code>: The biological sample identifier (renamed from <code>#BioSample</code>).</p></li>
<li><p><code>spp_pheno</code>: The species phenotype, formatted using the <code>as.mo</code> function.</p></li>
<li><p><code>drug_agent</code>: The antibiotic used in the test, formatted using the <code>as.ab</code> function.</p></li>
<li><p><code>mic</code>: The minimum inhibitory concentration (MIC) value, formatted using the <code>as.mic</code> function.</p></li>
<li><p><code>disk</code>: The disk diffusion measurement (in mm), formatted using the <code>as.disk</code> function.</p></li>
<li><p><code>guideline</code>: The guideline used for interpretation (either EUCAST or CLSI).</p></li>
<li><p><code>pheno</code>: The interpreted phenotype (SIR) based on the MIC or disk diffusion data.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example usage</span></span></span>
<span class="r-in"><span><span class="va">ast_data</span> <span class="op">&lt;-</span> <span class="fu">import_ncbi_ast</span><span class="op">(</span><span class="st">"path/to/ast_data.tsv"</span>, interpret <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in process_input(input):</span> Input must be either a valid file path or a dataframe.</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ast_data</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'ast_data' not found</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthijs S. Berends, Natacha Couto, Jane Hawkey, Kat Holt.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

